<script src="${.site_root}/static/js/alarm.js"></script>

<div class="main_content" id="main_content">
    <div class="container-fluid">
        <div class="row">
            <!-- 告警统计 -->
            <div class="col-md-4">
                <div class="panel panel-primary">
                    <div class="panel-heading">告警统计</div>
                    <div class="panel-body">
                        <div>
                            <div class="btn-group pull-left">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"
                                        aria-haspopup="true" aria-expanded="false">
                                    监控告警统计
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu">
                                    <li><a href="#">统计1</a></li>
                                    <li><a href="#">统计2</a></li>
                                    <li><a href="#">统计3</a></li>
                                </ul>
                            </div>
                            <p class="pull-right alarm-num">
                                告警统计：<span>185</span>条
                            </p>
                        </div>
                        <div></div>
                        <div id="alarmStatistics">
                            <div id="statistics" style="width: 420px; height: 320px;"></div>
                        </div>
                        <h4>告警环比分析</h4>
                        <div id="alarmRatio">
                            <div id="ratio" style="width: 420px; height: 320px;"></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 告警列表 -->
            <div class="col-md-8">
                <div class="panel panel-primary">
                    <div class="panel-heading">告警列表</div>
                    <div class="panel-body">
                        <div id="alarmBtns">
                            <button type="button" class="btn btn-default" v-on:click="confirmAlarm">确认告警</button>
                            <button type="button" class="btn btn-default" v-on:click="cancelAlarm">取消确认</button>
                            <button type="button" class="btn btn-default" v-on:click="closeAlarm">关闭告警</button>
                            <button type="button" class="btn btn-default" v-on:click="changeClass">更改级别</button>
                            <button type="button" class="btn btn-default" v-on:click="download">下载</button>
                        </div>
                        <div id="alarmTable">
                            <form>
                                <table class="table table-bordered table-hover">
                                    <tr>
                                        <th><input type="checkbox"></th>
                                        <th>告警ID</th>
                                        <th>连线端口ID</th>
                                        <th>告警类型</th>
                                        <th>管理域</th>
                                        <th>设备名称</th>
                                        <th>IP地址</th>
                                        <th>告警时间</th>
                                        <th>告警次数</th>
                                        <th>告警内容</th>
                                        <th>间隔时间</th>
                                        <th>处理状态</th>
                                    </tr>
                                    <tr v-for="alarm in alarmList">
                                        <td><input type="checkbox"></td>
                                        <td>{{alarm.id}}</td>
                                        <td>{{alarm.line_port_id}}</td>
                                        <td>{{alarm.type}}</td>
                                        <td>{{alarm.domain}}</td>
                                        <td>{{alarm.device}}</td>
                                        <td>{{alarm.ip}}</td>
                                        <td>{{alarm.timestamp}}</td>
                                        <td>{{alarm.times}}</td>
                                        <td>{{alarm.message}}</td>
                                        <td>{{alarm.step}}</td>
                                        <td>{{alarm.status}}</td>
                                    </tr>
                                </table>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
